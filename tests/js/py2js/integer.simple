/**
 * @file        py2js/integer.simple
 *              Simple test which shows that sending Python integers to JS and getting it back in Python works as expected.
 * @author      Kirill Kirnichansky, kirill@distributive.network
 * @date        July 2023
 */
'use strict';

const integer = python.eval('777');
const throughJS = x => x;
const number = throughJS(integer);

python.exec(`
def compare(val):
  if val == 777:
    return True
  return False
`);
const compare = python.eval('compare');

if (typeof number !== 'number')
{
  console.error(`expected a number type from JS, got: ${typeof number}`);
  throw new Error('test failed');
}
if (!compare(number))
{
  console.error(`Python int: ${integer}, through JS: ${number}, !== 777 in back Python`);
  throw new Error('test failed');
}
if (integer !== number)
{
  console.error(`expected ${integer} but got ${number}`);
  throw new Error('test failed');
}

console.log('pass -', number);
